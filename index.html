<body>

    <h2 id="page-title">Crossover Temp Fog Forecast</h2>
    
    <div class="controls">
        <button onclick="toggleView('forecast')" id="btn-forecast" style="font-weight:bold;">Forecast Loop</button>
        <button onclick="toggleView('analysis')" id="btn-analysis">View Crossover Analysis (Input)</button>
        <button id="download-btn" onclick="generateGIF()">Download GIF</button>
    </div>
    
    <div class="controls">
        <span id="run-info">Loading...</span> | 
        <span><span style="color:#FFEB3B; background:#555; padding:0 4px;">Yellow = Mist</span> <span style="color:#9C27B0; font-weight:bold;">Purple = Dense Fog</span></span>
    </div>

    <div class="timeline-container" id="timeline"></div>

    <div id="map-container">
        <div id="loader">
            <div class="spinner"></div>
            <br><span>Loading...</span>
        </div>
        <img id="forecast-img" src="" alt="Map Display" onerror="this.style.display='none'">
    </div>

<script>
    // ... [Keep your existing CONFIGURATION and DATE LOGIC here] ...
    
    // --- VIEW TOGGLE LOGIC ---
    let currentView = 'forecast';

    function toggleView(view) {
        currentView = view;
        const timeline = document.getElementById('timeline');
        const img = document.getElementById('forecast-img');
        
        if (view === 'analysis') {
            // Hide timeline, show static analysis map
            timeline.style.display = 'none';
            img.src = 'images/crossover_analysis.png'; // The new file
            document.getElementById('btn-analysis').style.fontWeight = 'bold';
            document.getElementById('btn-forecast').style.fontWeight = 'normal';
        } else {
            // Show timeline, restore animation
            timeline.style.display = 'grid';
            setImage(1); // Reset to frame 1
            document.getElementById('btn-analysis').style.fontWeight = 'normal';
            document.getElementById('btn-forecast').style.fontWeight = 'bold';
        }
    }

    // ... [Keep the rest of your setImage and GIF logic] ...
</script>
</body>
